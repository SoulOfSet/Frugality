<ons-page ng-controller="searchController">
    
    
    <div id="SearchSection">
        <div style="margin-top: 2%; margin-bottom: 2%;" class="center"><input id="TxtSearch" type="text" class="search-input" placeholder="Search"></input></div>
        <ons-button modifier="large--cta" ng-click="search('keywords')">Search</ons-button>
    </div>
    <div id="SearchResultList">
        <div style="width: 100%" id="ResultBar">
            <div style="width: 100%" data-role="header">
                <span class="left">Showing {{searchCount}} results for search: {{searchName}}</span>
                <!--<ons-icon  id="filterIcon" ng-click="popFilter()" size="7vw" style="float: right; margin-right: 3%; margin-top: 0.5%; color: red" icon="fa-filter" style="font-size: 32px; width: 1em;"></ons-icon>-->
            </div>
        </div>
        <div style="margin-top: 7%" id="SearchResults">
            <div id="ResultError" style="display: none;">

            </div>
            <ons-list id="ResultList">
                <ons-list-item class="container" style="hover: gray;" ng-click="resultClick(this.item)"  ng-repeat="item in currData.items">
                    <div class="itemImg" id="image" style="; display:inline-block;"><img height="75vw" width="75vw" src="{{item.product.images[1].ImageInfo.link}}" onError="this.onerror=null;this.src='res/img/questionmark.png';"></div>
                    <div class="itemInfo" id="name">{{item.product.name}}</br>{{item.location.name}}</div>
                    <div class="itemPrice" id="price">${{item.price}}</div>
                </ons-list-item>
            </ons-list>
        </div>
    </div>
    <div id="ResultDetails" style="display: none; height: 100%">
        <div id="ResultsContainer">
            <div id="ImgBlock">
                <div id="IconContainer">
                    <ons-icon id="BackButton" size="10vw" ng-click="backClick()" icon="ion-arrow-left-c"></ons-icon>
                    <img id="ResultImg" src="{{img}}"></img>
                    <ons-icon id="WatchButton" size="8vw" ng-click="addToWatch(true)" icon="ion-plus"></ons-icon>
                </div>
            </div>
            <div id="itemDetail">
                <ons-list>
                    <ons-list-item><p>Product Name: {{name}}</p></ons-list-item>
                    <ons-list-item><p>Location: {{locationName}}</p></ons-list-item>
                    <ons-list-item><p>Type: {{type}}</p></ons-list-item>
                    <ons-list-item><p>Price: ${{price}}</p></ons-list-item>
                    <ons-list-item><p>Availability: {{inStock}}</p></ons-list-item>
                    <ons-list-item><p>Qty: {{numInStock}}</p></ons-list-item>
                    <ons-list-item><p>Address: {{address}}</p></ons-list-item>
                    <ons-list-item><p>State: {{state}}</p></ons-list-item>
                    <ons-list-item><p>Zip-Code: {{zip}}</p></ons-list-item>
                    <ons-list-item><p>Phone: <a class="button icon-left ion-ios7-telephone button-calm button-outline" href="tel:{{phoneNum}}">{{phoneNum}}</a></p></ons-list-item>
                    <ons-list-item><p>Store Hours: {{hours}}</p></ons-list-item>
                    <ons-list-item modifier="chevron" ng-click="viewMap()"><p>View on map</p></ons-list-item>
                </ons-list>
            </div>
        </div>
        
    </div>
</ons-page>